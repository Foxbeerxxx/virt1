# Домашнее задание к занятию "`Введение в виртуализацию`" - `Татаринцев Алексей`

---

### Задание 1

`Зашел в свой YandexCloud`

1. `Делаю по заданию, создаю ВМ с минимальными техническими характеристиками из инструкции`
![1](https://github.com/Foxbeerxxx/virt1/blob/main/img/img1.png)`

2. `После того как создается и присваивается внешний IP`

![2](https://github.com/Foxbeerxxx/virt1/blob/main/img/2.png)`

3. `Подключаюсь к ВМ`

![3](https://github.com/Foxbeerxxx/virt1/blob/main/img/3.png)`

4. `Проверяю установленную версию Докер`

```
docker --version 
```
![4](https://github.com/Foxbeerxxx/virt1/blob/main/img/4.png)`

5. `Смотрю какие сервисы установленны в образе и проверяю еще 1.`

![5](https://github.com/Foxbeerxxx/virt1/blob/main/img/5.png)`

![6](https://github.com/Foxbeerxxx/virt1/blob/main/img/6.png)`



---


### Задание 2

1. `Высоконагруженная база данных MySQL, критичная к отказу`

```

Рекомендуемая платформа: Физические сервера .

Критерии выбора:

а) Производительность: Физические серверы исключают накладные расходы гипервизора, что важно для СУБД.

б) Надежность: Минимизация точек отказа (лучше RAID + репликация, чем зависимость от гипервизора).

в) Дисковая подсистема: Прямой доступ к NVMe/SSD без виртуализации хранилища.

Отказоустойчивость: Если нужна live-миграция, можно использовать паравиртуализацию (KVM/Xen), но с гарантированными ресурсами.
```



2. ` Различные web-приложения `

```
Рекомендуемая платформа: Виртуализация уровня ОС (контейнеры, Docker/LXC) или паравиртуализация (KVM, VMware).

Критерии выбора:

а) Гибкость: Быстрое развертывание и масштабирование (контейнеры лучше для микросервисов).

б) Изоляция: Если нужна полная изоляция (разные ОС или ядра) — паравиртуализация (KVM).

в) Эффективность: Контейнеры (Docker/Kubernetes) дают меньшие накладные расходы, чем виртуальные машины.

г) Удобство управления: Оркестрация (K8s, Docker Swarm) упрощает DevOps-процессы.

```


3. `Windows-системы для использования бухгалтерским отделом`

```
Выбор: Паравиртуализация или Полная виртуализация (например, VMware, Hyper-V, KVM с поддержкой Windows)

а) Совместимость: Windows плохо поддерживает контейнеризацию, особенно в контексте рабочих столов и приложений бухгалтерии (например, 1С).

б) Управляемость: Виртуальные машины легко разворачивать, бэкапить, клонировать.

в) Безопасность: VM предоставляют хорошую изоляцию.

Минусы: Больше накладных расходов по сравнению с контейнерами.

```


4. `Системы, выполняющие высокопроизводительные расчеты на GPU`
```
Рекомендуемая платформа: Физические серверы (или PCI-passthrough в паравиртуализации).

Критерии выбора:

а) Прямой доступ к GPU: Виртуализация GPU (vGPU/NVIDIA GRID) добавляет задержки, поэтому лучше bare-metal или PCI-passthrough.

б) Производительность: Расчеты на GPU требуют минимальных накладных расходов.

в) Поддержка драйверов: Не все гипервизоры хорошо работают с GPU-ускорением (лучше KVM/Xen с passthrough или физический сервер).

```




---

### Задание 3


1. `100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.`

```
Как решение: VMware vSphere (ESXi + vCenter)
- Оптимально для смешанной среды (Linux + Windows).
- Поддержка HA (High Availability), DRS (Distributed Resource Scheduler) для балансировки нагрузки.
- vSphere Replication для репликации данных.
- Интеграция с Veeam Backup & Replication для автоматизированного резервного копирования.
- Широкая поддержка Windows-гостей, включая интеграцию с Active Directory.
- Лицензирование (Standard или Enterprise Plus) позволяет масштабироваться.
Альтернатива: Microsoft Hyper-V + System Center (если инфраструктура полностью Microsoft-ориентирована).
```
2. ` Наиболее производительное бесплатное open source-решение для 20-30 серверов (Linux + Windows)`

```
Рекомендуемое решение: Proxmox VE
- Полностью open source (на базе KVM + LXC).
- Высокая производительность (близкая к bare metal).
- Поддержка и Windows, и Linux гостевых ОС.
- Встроенные инструменты для бэкапов, репликации, кластеризации.
- Нет лицензионных ограничений на основные функции.
Альтернатива: oVirt (но сложнее в настройке и менее удобен для небольших инфраструктур).
```

3. `Бесплатное, максимально совместимое и производительное решение для Windows-виртуализации`

```
Рекомендуемое решение: Microsoft Hyper-V Server (бесплатная версия)
- Нативная поддержка Windows-гостей (лучшая интеграция с драйверами, UEFI, Secure Boot).
- Высокая производительность за счет оптимизации для Windows.
- Поддержка всех основных функций: Live Migration, Replica, Storage QoS.
- Бесплатная, но требует ручного управления (PowerShell/GUI через RSAT).

Альтернатива: KVM (но требует больше ручной настройки для оптимальной работы с Windows).
```
4. ` Рабочее окружение для тестирования ПО на нескольких дистрибутивах Linux`

```
Можно использовать VirtualBox (+ Vagrant для автоматизации)
- Бесплатное, кроссплатформенное (Windows/macOS/Linux).
- Поддержка множества Linux-дистрибутивов "из коробки".
- Vagrant позволяет быстро разворачивать и уничтожать ВМ с помощью конфигурационных файлов.
- Нетребовательно к ресурсам, идеально для тестовых сред.

Альтернатива: QEMU/KVM (более производительно, но сложнее в настройке).
```


### Задание 4


1. `Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет?`

```
1. Усложнение управления и администрирования
- Разные интерфейсы и API – Каждая система виртуализации имеет свои инструменты управления (vCenter, SCVMM, Proxmox GUI), что увеличивает нагрузку на ИТ-персонал.
- Нет единой панели мониторинга – Требуются дополнительные решения (например, VMware Aria, Nagios, Zabbix) для контроля всех платформ.
- Разные CLI/скрипты – Автоматизация сложнее из-за различий в PowerShell (Hyper-V), vSphere CLI (VMware), qemu-img (KVM).


2. Проблемы совместимости и миграции
- Несовместимость форматов ВМ – VMware использует .vmdk, Hyper-V – .vhdx, KVM – .qcow2. Конвертация возможна, но может привести к ошибкам.
- Сложности с live-миграцией – Перемещение ВМ между разными гипервизорами без downtime требует дополнительных инструментов (StarWind V2V, VMware HCX).
- Ограниченная поддержка гостевых ОС – Например, FreeBSD лучше работает на KVM, а Windows – на Hyper-V.

3. Повышенные затраты на лицензии и поддержку
- Дорогое лицензирование – VMware требует оплаты за CPU, Hyper-V – за Windows Server, Proxmox – за подписку на поддержку.
- Разные вендорские контракты – Усложняется управление SLA и обновлениями.

4. Проблемы безопасности
- Разные модели обновлений – Патчи для VMware ESXi и Hyper-V выходят в разное время, что усложняет поддержку актуальности.
- Несогласованная политика доступа – Нужно настраивать RBAC отдельно для каждой системы.





Если гетерогенная среда необходима, можно снизить риски следующими мерами:

1. Стандартизация 
-  Выделить четкие сценарии под каждый гипервизор (например, VMware – для критичных Windows-сервисов, KVM – для Linux).
- Использовать единые хранилища (например, Ceph, iSCSI, NFS) для упрощения миграции.

2. Автоматизация и оркестрация
- Terraform, Ansible – Универсальные инструменты для управления разными платформами.
- Kubernetes (K8s) – Если возможно, перенести workloads в контейнеры для абстракции от гипервизора.

3. Использование мультигипервизорных решений
- Nutanix AHV + VMware – Некоторые платформы поддерживают несколько гипервизоров.
- OpenStack – Позволяет управлять KVM, Hyper-V, VMware через единый API.

Гетерогенная среда оправдана только при наличии веских причин, иначе она принесет больше проблем, чем преимуществ.

```


